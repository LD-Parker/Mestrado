Citation: Huang, Y.; Chen, H.; Dai, J.;
Tao, H.; Wang, X. Working Condition
Identiﬁcation Method of Wind
Turbine Drivetrain. Machines 2023 ,11,
495. https://doi.org/10.3390/
machines11040495
Academic Editors: Davide Astolﬁ
and Antonio J. Marques Cardoso
Received: 22 February 2023
Revised: 5 April 2023
Accepted: 16 April 2023
Published: 20 April 2023
Copyright: © 2023 by the authors.
Licensee MDPI, Basel, Switzerland.
This article is an open access article
distributed under the terms and
conditions of the Creative Commons
Attribution (CC BY) license (https://
creativecommons.org/licenses/by/
4.0/).
machines
Article
Working Condition Identiﬁcation Method of Wind
T urbine Drivetrain
Yuhao Huang1, Huanguo Chen1,2,*
, Juchuan Dai3, Hanyu Tao1and Xutao Wang1
1School of Mechanical Engineering, Zhejiang Sci-Tech University, Hangzhou 310018, China
2Zhejiang Province’s Key Laboratory of Reliability Technology for Mechanical and Electronic Product,
Hangzhou 310018, China
3School of Mechanical Engineering, Hunan University of Science and Technology, Xiangtan 411201, China
*Correspondence: hgchen@zstu.edu.cn
Abstract: The operation state of the wind turbine drivetrain is complex and variable, making it
difﬁcult to accurately evaluate under the drivetrain’s anomalies. In order to accurately identify the
operating state of the main drivetrain, a method for working condition identiﬁcation is proposed.
Firstly, appropriate working condition identiﬁcation parameters are selected and distinguished from
the working condition feature parameters. Secondly, the aerodynamic power prediction model is
established, which solves the problem of inaccurate theoretical estimation. Finally, after the historical
working conditions are classiﬁed, the working condition identiﬁcation model is established, and
the proposed method is analyzed and validated by cases. The results show that the method can
accurately identify the working conditions, avoiding the inﬂuence of an abnormal state of drivetrain,
and provide a basis for real-time state monitoring and evaluation.
Keywords: wind turbine; drivetrain; working conditions; working conditions identiﬁcation
1. Introduction
As a renewable energy, wind energy has broad development prospects with mature
technology and large-scale industries, making the stability and reliability of wind turbines
the focus of research [ 1–3]. The wind turbine drivetrain, which is responsible for energy
and load transfer, is always in a complex, changeable, and harsh working environment. The
downtime caused by the failure of the drivetrain accounts for 40–60% [ 4], making sense for
real-time monitoring and rational adjustment of operation and maintenance arrangement.
At present, wind turbines use ﬁxed thresholds to monitor the operating status, which
cannot meet the requirements of condition monitoring due to the complexity and diversity
of the operating conditions of the drivetrain [ 5]. Therefore, it is important to classify and
accurately identify the working conditions of the drivetrain.
Currently , there are few studies on the classification and identification of working condi-
tions of the drivetrain, and most consider the working condition of the whole wind turbine.
Gioia et al. [ 6] chose rotational speed to discriminate the operating state, dividing the working
condition into three states: stopped, energy-generating, and running slip. Yang et al. [ 7]
divided the operating state of the wind turbine into four stages based on the power curve:
shutdown stage, maximum wind energy tracking stage, torque control stage, and variable
pitch control stage. Gu et al. [ 8] first used ambient temperature for the initial classification, and
then used wind speed to further classify the working conditions of the wind turbine. Hackell
et al. [ 9] classified and identified the operating conditions of the wind turbine by wind speed
intervals. Cheng et al. [ 10] combined wind speed, rotational speed, power, and blade pitch
angle with IEC information to classify the operating conditions. Zhao et al. [ 11] divided the
operating states of the wind turbine into seven categories based on wind speed, rotational
speed, and blade pitch angle. However, it is difficult to accurately classify and identify the
Machines 2023 ,11, 495. https://doi.org/10.3390/machines11040495 https://www.mdpi.com/journal/machines
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 2 of 13
working conditions of the wind turbine using a single parameter or according to its operating
characteristics, and the false alarm rate is high in actual monitoring.
To address this issue, researchers employ multiple parameters based on clustering algo-
rithms for the classification and identification of working conditions. Liu et al. [ 12] selected
power, wind speed, and generator torque as the working condition feature parameters and
established a working condition identification model based on the fuzzy C-mean algorithm
(FCM). Wang et al. [ 13] selected wind speed, wind direction, ambient temperature, generator
speed, and torque to classify working conditions based on the k-means clustering algorithm,
and identified working conditions from the interval ranges of each class. Zheng et al. [ 14]
selected six parameters, including gearbox oil temperature, generator bearing temperature,
ambient temperature, active power, wind speed, and generator speed, to form the charac-
teristic parameter set and proposed a method based on particle swarm optimization (PSO)
optimized kernel principal component analysis for offshore wind farm operating condition
classification. Chen et al. [ 15] classified and identified the working conditions based on wind
speed, cabin angle, blade position, and active power, using a Gaussian mixture model (GMM).
Rezamand et al. [ 16] adopted environmental temperature, wind speed, active power, shaft
speed, shaft bearing temperature, generator speed, and generator bearing temperature as
the feature set, and used the Kernel Fuzzy C-Means (KFCM) method to divide and identify
working conditions. Dong et al. [ 17] adopted wind speed, blade pitch angle, generator speed,
and active power as the feature set, and used k-means clustering to divide working conditions.
Although the use of multiple parameters can accurately classify working conditions and re-
duce the false alarm rate during normal operation, if output parameters (such as active power,
generator bearing temperature, generator torque, and so on) are used as working condition
identification parameters, they will affect the results of working condition identification when
the wind turbine’s anomalies occur.
In summary , a working condition identification method for the wind turbine drivetrain
is presented. This work guarantees the accuracy of working condition identification while
avoiding the influence of the drivetrain’s anomalies and provides conditions for real-time mon-
itoring and status evaluation. The overall flowchart is illustrated in Figure 1. The remainder
is organized as follows. In Section 2, the working condition identification parameters are se-
lected. In Section 3, an aerodynamic power prediction model is established based on the Long
Short-Term Memory (LSTM) algorithm. In Section 4, the working condition identification
model is established based on the Light Gradient Boosting Machine (LightGBM) algorithm,
and the cases of normal state and abnormal state are selected to validate the proposed method.
Machines 2023 , 11, x FOR PEER REVIEW 3 of 14 
 
  
Figure 1. The overall ﬂowchart. 
2. Selection of Working Condition Identi ﬁcation Parameters 
Researchers typically use working condition feature parameters for real-time condi-
tion identi ﬁcation after historical working condition classi ﬁcation. The working condition 
feature parameters are adopted as working condition identi ﬁcation parameters. When se-
lecting individual input parameters for the wind turbine, such as wind speed or rotor 
speed, this method does not a ﬀect the evaluation results. However, problems arise when 
selecting multiple working condition feature parameters. Owing to the fact that the work-ing condition feature parameters contain the ou tput of the wind turbine (such as active 
power, bearing temperature, generator torque , and so on), the results of working condi-
tion identi ﬁcation will be a ﬀected when the wind turbine has abnormalities or failures. 
Therefore, it is necessary to distinguish the working condition identi ﬁcation parameters 
from the working condition feature paramete rs. The SCADA system collects the whole 
wind turbine parameters, including blades, ge nerators, grid, etc. [18] The main parame-
ters of the drivetrain are shown in Figure 2. 
 
Figure 2. Main parameters of the drivetrain. Selection of 
Working 
Condition 
Identification 
Parameters
Establishment 
of Aerodynamic 
Power 
Prediction 
Model
Method 
Analysis and 
ValidationEstablishment 
of Work 
condition 
Identification 
ModelWorking Condition Identification of Wind Turbine Drivetrain
Wind 
Turbine 
SCADA 
Parameters Drivetrain 
Parameters
Predictive 
model input 
parametersAerodynamic 
Power 
Prediction 
Model
Work 
condition 
Identification 
ModelClassification 
of Historical 
Working 
Conditions
Normal Operating 
ConditionCase 
AnalysisWorking 
Condition 
Identification 
Parameters
LightGBM
Abnormal Operating 
ConditionLSTM
σ σ tanh σ ×tanh1tC− tC
1th− thth
txtftito
tC
Forget Channel Input Channel Output ChannelFully 
connected 
layer
LSTM LSTM LSTM
txLSTM LSTM LSTM
LSTM LSTM LSTM
Input layerHidden layerOutput layer
Wind Speed
Hub Speed
Pitch Angle
1tx− nx1ty− tyny
0
1th−0
1tC−1
1th−1
1tC−
0
1th−1
th
0
tC1
1th−
0
th
0
th1
tC1
th
0
nh1
nh1m
th−1m
tC−
m
thm
tCPredicted 
Aerodynamic 
Power
Wind Speed
Wind 
DirectionWind 
Energy
External 
environment 
TemperatureHub Speed
Pitch Speed
Pitch AngleImpellerPitch motor
Current
Variable 
propeller 
drive 
temperaturePitch motor
TemperatureMain Shaft
GearboxMain Shaft
Brake pressure
Oil pool
TemperatureInlet 
Temperature
Low-speed 
bearing
TemperatureHigh-speed 
bearing
TemperatureGeneratorActive 
Power
Generator 
Speed
Torque 
feedback
Torque 
given
Generating 
CapacityReactive 
Power DC bus Voltage Current
Winding 
TemperatureSlip-ring 
Temperature
Non-driving end 
TemperatureDriving end 
Temperature
Nacelle 
TemperaturePitch motor
Power
Gearbox
Oil pressure
Wind Speed
Wind 
DirectionWind 
Energy
External 
environment 
TemperatureHub Speed
Pitch Speed
Pitch AngleImpellerPitch motor
Current
Variable 
propeller 
drive 
temperaturePitch motor
TemperatureMain Shaft
GearboxMain Shaft
Brake pressure
Oil pool
TemperatureInlet 
Temperature
Low-speed 
bearing
TemperatureHigh-speed 
bearing
TemperatureGeneratorActive 
Power
Generator 
Speed
Torque 
feedback
Torque 
given
Generating 
CapacityReactive 
Power DC bus Voltage Current
Winding 
TemperatureSlip-ring 
Temperature
Non-driving end 
TemperatureDriving end 
Temperature
Nacelle 
TemperaturePitch motor
Power
Gearbox
Oil pressure
Figure 1. The overall ﬂowchart.
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 3 of 13
2. Selection of Working Condition Identiﬁcation Parameters
Researchers typically use working condition feature parameters for real-time condi-
tion identiﬁcation after historical working condition classiﬁcation. The working condition
feature parameters are adopted as working condition identiﬁcation parameters. When
selecting individual input parameters for the wind turbine, such as wind speed or ro-
tor speed, this method does not affect the evaluation results. However, problems arise
when selecting multiple working condition feature parameters. Owing to the fact that
the working condition feature parameters contain the output of the wind turbine (such as
active power, bearing temperature, generator torque, and so on), the results of working
condition identiﬁcation will be affected when the wind turbine has abnormalities or failures.
Therefore, it is necessary to distinguish the working condition identiﬁcation parameters
from the working condition feature parameters. The SCADA system collects the whole
wind turbine parameters, including blades, generators, grid, etc. [ 18] The main parameters
of the drivetrain are shown in Figure 2.
Machines 2023 , 11, x FOR PEER REVIEW 3 of 14 
 
  
Figure 1. The overall ﬂowchart. 
2. Selection of Working Condition Identi ﬁcation Parameters 
Researchers typically use working condition feature parameters for real-time condi-
tion identi ﬁcation after historical working condition classi ﬁcation. The working condition 
feature parameters are adopted as working condition identi ﬁcation parameters. When se-
lecting individual input parameters for the wind turbine, such as wind speed or rotor 
speed, this method does not a ﬀect the evaluation results. However, problems arise when 
selecting multiple working condition feature parameters. Owing to the fact that the work-ing condition feature parameters contain the ou tput of the wind turbine (such as active 
power, bearing temperature, generator torque , and so on), the results of working condi-
tion identi ﬁcation will be a ﬀected when the wind turbine has abnormalities or failures. 
Therefore, it is necessary to distinguish the working condition identi ﬁcation parameters 
from the working condition feature paramete rs. The SCADA system collects the whole 
wind turbine parameters, including blades, ge nerators, grid, etc. [18] The main parame-
ters of the drivetrain are shown in Figure 2. 
 
Figure 2. Main parameters of the drivetrain. Selection of 
Working 
Condition 
Identification 
Parameters
Establishment 
of Aerodynamic 
Power 
Prediction 
Model
Method 
Analysis and 
ValidationEstablishment 
of Work 
condition 
Identification 
ModelWorking Condition Identification of Wind Turbine Drivetrain
Wind 
Turbine 
SCADA 
Parameters Drivetrain 
Parameters
Predictive 
model input 
parametersAerodynamic 
Power 
Prediction 
Model
Work 
condition 
Identification 
ModelClassification 
of Historical 
Working 
Conditions
Normal Operating 
ConditionCase 
AnalysisWorking 
Condition 
Identification 
Parameters
LightGBM
Abnormal Operating 
ConditionLSTM
σ σ tanh σ ×tanh1tC− tC
1th− thth
txtftito
tC
Forget Channel Input Channel Output ChannelFully 
connected 
layer
LSTM LSTM LSTM
txLSTM LSTM LSTM
LSTM LSTM LSTM
Input layerHidden layerOutput layer
Wind Speed
Hub Speed
Pitch Angle
1tx− nx1ty− tyny
0
1th−0
1tC−1
1th−1
1tC−
0
1th−1
th
0
tC1
1th−
0
th
0
th1
tC1
th
0
nh1
nh1m
th−1m
tC−
m
thm
tCPredicted 
Aerodynamic 
Power
Wind Speed
Wind 
DirectionWind 
Energy
External 
environment 
TemperatureHub Speed
Pitch Speed
Pitch AngleImpellerPitch motor
Current
Variable 
propeller 
drive 
temperaturePitch motor
TemperatureMain Shaft
GearboxMain Shaft
Brake pressure
Oil pool
TemperatureInlet 
Temperature
Low-speed 
bearing
TemperatureHigh-speed 
bearing
TemperatureGeneratorActive 
Power
Generator 
Speed
Torque 
feedback
Torque 
given
Generating 
CapacityReactive 
Power DC bus Voltage Current
Winding 
TemperatureSlip-ring 
Temperature
Non-driving end 
TemperatureDriving end 
Temperature
Nacelle 
TemperaturePitch motor
Power
Gearbox
Oil pressure
Wind Speed
Wind 
DirectionWind 
Energy
External 
environment 
TemperatureHub Speed
Pitch Speed
Pitch AngleImpellerPitch motor
Current
Variable 
propeller 
drive 
temperaturePitch motor
TemperatureMain Shaft
GearboxMain Shaft
Brake pressure
Oil pool
TemperatureInlet 
Temperature
Low-speed 
bearing
TemperatureHigh-speed 
bearing
TemperatureGeneratorActive 
Power
Generator 
Speed
Torque 
feedback
Torque 
given
Generating 
CapacityReactive 
Power DC bus Voltage Current
Winding 
TemperatureSlip-ring 
Temperature
Non-driving end 
TemperatureDriving end 
Temperature
Nacelle 
TemperaturePitch motor
Power
Gearbox
Oil pressure
Figure 2. Main parameters of the drivetrain.
In order to accurately classify the historical working conditions of the drivetrain, active
power, 30-s average wind speed, hub speed, and ambient temperature are selected as the
working condition feature parameters. When the wind turbine is abnormal, according
to the control strategy, the wind turbine will adjust the active power by controlling the
pitch angle and generator electromagnetic torque. Therefore, if the working condition
identiﬁcation parameters are the same as the working condition characteristic parameters,
the active power as the drivetrain output will affect the results of real-time working condi-
tion identiﬁcation. Therefore, it is necessary to select the appropriate working condition
identiﬁcation parameters.
This paper selects aerodynamic power, which is the drivetrain’s input, as a substitute
for active power as the working condition recognition parameter. The selected working
condition identiﬁcation parameters are aerodynamic power, 30-s average wind speed, hub
speed, and ambient temperature.
3. Aerodynamic Power Prediction Model
3.1. Theoretical Calculation of Aerodynamic Power
Aerodynamic power cannot be obtained directly from the wind turbine SCADA
system, so it needs to be calculated before the working condition identiﬁcation. The
theoretical aerodynamic power can be calculated from the aerodynamics theory of Betz [ 19]:
P=1
2rpR2Vw3Cp (1)
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 4 of 13
where Pis the aerodynamic power, ris the air density, Ris the impeller radius, Vwis the
wind speed, and Cpis the rotor power coefﬁcient.
The rotor power coefﬁcient is related to wind speed, hub speed, and pitch angle, which
can be calculated by the empirical formula [19]:
8
>><
>>:Cp=c1
c2
g c3b c4bc5 c6
e c7
g
1
g=1
l+c8b c9
b3+1
l=wR
Vw(2)
where c1c9are the wind turbine parameter, bis the pitch angle, gis the intermediate
variable, lis the speed ratio, wis the hub speed.
The torque feedback parameters from SCADA data are adopted to calculate the
historical aerodynamic power [20]:
Tin=iTout
Ph=wTin(3)
where Tinis the input torque, Toutis the output torque, iis the transmission ratio, Phis the
historical aerodynamic power.
Using data in May 2021, the theoretical calculated aerodynamic power was compared
with the actual historical aerodynamic power, as shown in Figure 3. Due to factors such as
aging during service, there is a signiﬁcant discrepancy between theoretical and historical
aerodynamic power. Therefore, in order to obtain the actual aerodynamic power, it is
necessary to establish an aerodynamic power prediction model.
Machines 2023 , 11, x FOR PEER REVIEW 5 of 14 
 
  
Figure 3. Comparison of theoretical aerodynamic po wer and historical aerodynamic power. 
3.2. LSTM-Based Aerodynamic Power Prediction Model 
The LSTM network has shown good performance in solving time-series problems 
and has demonstrated its excellence in the research of wind turbine power prediction [21–
23], state evaluation [24], fault diagnosis [25–27 ], etc. Therefore, this paper established an 
aerodynamic power prediction model based on LSTM.  
The LSTM is a special type of Recurrent Neural Network (RNN), characterized by its 
cell state and “gate” structure. It consists of  three gating units, the forget gate, the input 
gate, and the output gate, which preserve and discard information from the sequence data 
and propagate relevant information along the long chain sequence for prediction [28]. 
The forget gate is used to determine whet her the information will be removed from 
the memory cell based on the hidden layer st ate information of the previous moment ℎ௧ିଵ. 
The equation of the forget gate is: 
[ ] () 1,tf t t ff Wh x b− =+σ
 (4)
The input gate is used to perform updates to the cell state. ℎ௧ିଵ and 𝑥௧ are passed 
to the activation function 𝜎  to update the information. Meanwhile, ℎ௧ିଵ  and 𝑥௧  are 
passed to the function 𝑡𝑎𝑛ℎ  to obtain the candidate vectors. The equation of the input 
gate is: 
[ ] () 1,ti t t iiσWh x b− =+
 (5)
[]() 1 tanh ,tC t t CCW h x b− =+
 (6)
The cell state is updated by the forge tting gate and the input gate. The equation is: 
1 tt t t tCC fC i−=+
 (7)
The output gate is used to determine the next hidden layer state information ℎ௧. The 
equation of th e out gate is: 
[ ] () 1,to t t ooσWh x b− =+
 (8)
()tanhtt tho C= (9)
where 𝑊௙ , 𝑊௜ , 𝑊஼ , 𝑊௢  are the corresponding weights, 𝑏௙ , 𝑏௜ , 𝑏஼ , 𝑏௢  are the corre-
sponding biases, 𝐶௧ିଵ and 𝐶௧ are the cell state at moments 𝑡−1  and 𝑡, respectively. 
According to the theoretical aerodynamic power formula, aerodynamic power is re-
lated to wind speed, hub speed, and blade pitc h angle. Therefore, the 30-s average wind 
speed, rotor speed, and blade pitch angle sele cted from the SCADA parameters are used 
as the input variables of the aerodynamic power prediction model. The model structure is shown in Figure 4.  
Figure 3. Comparison of theoretical aerodynamic power and historical aerodynamic power.
3.2. LSTM-Based Aerodynamic Power Prediction Model
The LSTM network has shown good performance in solving time-series problems and
has demonstrated its excellence in the research of wind turbine power prediction [ 21–23],
state evaluation [ 24], fault diagnosis [ 25–27], etc. Therefore, this paper established an
aerodynamic power prediction model based on LSTM.
The LSTM is a special type of Recurrent Neural Network (RNN), characterized by its
cell state and “gate” structure. It consists of three gating units, the forget gate, the input
gate, and the output gate, which preserve and discard information from the sequence data
and propagate relevant information along the long chain sequence for prediction [28].
The forget gate is used to determine whether the information will be removed from
the memory cell based on the hidden layer state information of the previous moment ht 1.
The equation of the forget gate is:
ft=s
Wf[ht 1,xt]+bf
(4)
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 5 of 13
The input gate is used to perform updates to the cell state. ht 1and xtare passed to
the activation function sto update the information. Meanwhile, ht 1and xtare passed to
the function tanh to obtain the candidate vectors. The equation of the input gate is:
it=s(Wi[ht 1,xt]+bi) (5)
eCt=tanh(WC[ht 1,xt]+bC) (6)
The cell state is updated by the forgetting gate and the input gate. The equation is:
Ct=Ct 1ft+eCtit (7)
The output gate is used to determine the next hidden layer state information ht. The
equation of the out gate is:
ot=s(Wo[ht 1,xt]+bo) (8)
ht=ottanh(Ct) (9)
where Wf,Wi,WC,Woare the corresponding weights, bf,bi,bC,boare the corresponding
biases, Ct 1and Ctare the cell state at moments t 1 and t, respectively.
According to the theoretical aerodynamic power formula, aerodynamic power is
related to wind speed, hub speed, and blade pitch angle. Therefore, the 30-s average wind
speed, rotor speed, and blade pitch angle selected from the SCADA parameters are used as
the input variables of the aerodynamic power prediction model. The model structure is
shown in Figure 4.
Machines 2023 , 11, x FOR PEER REVIEW 6 of 14 
 
  
Figure 4. Structure of the aerodynami c power prediction model. 
The ﬁrst layer is the input layer, which sets  the memory step length based on the 
input variables to construct the input time-s eries data. The second layer is the hidden 
layer, which passes the time-series features through various LSTM units to mine the cou-
pling relationship between the input variables and the aerodynamic power. Finally, the 
output layer is connected to the hidden laye r through the fully connected layer to obtain 
the ﬁnal aerodynamic power prediction result. 
3.3. The Prediction of Aerodynamic Power 
Choosing the appropriate number of hidden layers and the number of neuron nodes 
in each hidden layer is important for constr ucting the LSTM model. The hyperparameters 
of the model are adjusted empirically, as shown in Table 1. 
Table 1. The hyperparameters of the LSTM model. 
Parameter Value 
Hidden layer 3 
Time step 20 
Iteration cycle 105 
Learning rate 0.005 
Batch size 64 
Loss function MSE 
Optimizer Adam 
The aerodynamic power prediction model was trained and tested using wind turbine 
data from March to April 2021 and validated using data from May. A total of 88,330 da-
tasets were used, including 62,480 training da ta samples, 15,620 test data samples, and 
10,230 validation data samples. The model has a good prediction e ﬀect on aerodynamic 
power, and the predicted aerodynamic power is closer to the actual aerodynamic power compared with the theoretical aerodynamic po wer, as shown in Figure 5. The model can 
provide the accurate actual aerodynamic po wer for the subsequent working condition 
identi ﬁcation. Fully 
connected 
layer
LSTM LSTM LSTM
txLSTM LSTM LSTM
LSTM LSTM LSTM
Input layerHidden layerOutput layer
Wind Speed
Hub Speed
Pitch Angle
1tx− nx1ty− tyny
0
1th−0
1tC−1
1th−1
1tC−
0
1th−1
th
0
tC1
1th−
0
th
0
th1
tC1
th
0
nh1
nh1m
th−1m
tC−
m
thm
tCPredicted 
Aerodynamic 
Power
Figure 4. Structure of the aerodynamic power prediction model.
The ﬁrst layer is the input layer, which sets the memory step length based on the
input variables to construct the input time-series data. The second layer is the hidden layer,
which passes the time-series features through various LSTM units to mine the coupling
relationship between the input variables and the aerodynamic power. Finally, the output
layer is connected to the hidden layer through the fully connected layer to obtain the ﬁnal
aerodynamic power prediction result.
3.3. The Prediction of Aerodynamic Power
Choosing the appropriate number of hidden layers and the number of neuron nodes
in each hidden layer is important for constructing the LSTM model. The hyperparameters
of the model are adjusted empirically, as shown in Table 1.
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 6 of 13
Table 1. The hyperparameters of the LSTM model.
Parameter Value
Hidden layer 3
Time step 20
Iteration cycle 105
Learning rate 0.005
Batch size 64
Loss function MSE
Optimizer Adam
The aerodynamic power prediction model was trained and tested using wind turbine
data from March to April 2021 and validated using data from May. A total of 88,330 datasets
were used, including 62,480 training data samples, 15,620 test data samples, and 10,230
validation data samples. The model has a good prediction effect on aerodynamic power,
and the predicted aerodynamic power is closer to the actual aerodynamic power compared
with the theoretical aerodynamic power, as shown in Figure 5. The model can provide the
accurate actual aerodynamic power for the subsequent working condition identiﬁcation.
Machines 2023 , 11, x FOR PEER REVIEW 7 of 14 
 
  
Figure 5. Prediction results of the aerodynamic power prediction model. 
The mean relative error (MRE) and coe ﬃcient of determination 𝑅ଶ are used to eval-
uate the prediction model. The equations are: 
1ˆ 1=()N
ii
i iyyMRENy =−
 (10)
2
2 1
2
1ˆ ()
1
()N
ii
i
N
ii
iyy
R
yy=
=−
=−
−

 (11)
where 𝑦௜ is the actual measured value, 𝑦ො௜ is the predicted value, 𝑦ത௜ is the mean value, 
and 𝑁 is the number of samples. 
The MRE represents the error between the pr ediction values and actual values. The 
smaller the MRE, the more the prediction values correspond to the actual values. 𝑅ଶchar-
acterizes the goodness of ﬁt of the prediction model, while the closer its value is to 1, the 
better the goodness of ﬁt for the prediction results. The comparison between the theoreti-
cal calculation and the model prediction of MRE and 𝑅ଶ is shown in Table 2. The MRE 
and 𝑅ଶ values of the model prediction method ar e both superior to the theoretical calcu-
lation method. 
Table 2. Comparison of methods. 
Method MRE 𝑹𝟐 
Theoretical calculation 204.1608843 0.7236284 
Model prediction 42.1555041 0.9852787 
4. Work Condition Identi ﬁcation Model 
4.1. Classi ﬁcation of Historical Working Conditions 
The control strategy of the wind turbine will vary depending on the operating con-
ditions. According to the power characteristics and wind speed, the normal operating 
state can be theoretically divided into ﬁve stages (Figure 6): shutdown, start-up (AB), max-
imum wind energy tracking (BC), constant speed (CD), and constant power (DE) [29]. 
Figure 5. Prediction results of the aerodynamic power prediction model.
The mean relative error (MRE) and coefﬁcient of determination R2are used to evaluate
the prediction model. The equations are:
MRE =1
NN
å
i=1(yi ˆyi
yi)(10)
R2=1 N
å
i=1(yi ˆyi)2
N
å
i=1(yi yi)2(11)
where yiis the actual measured value, ˆyiis the predicted value, yiis the mean value, and
Nis the number of samples.
The MRE represents the error between the prediction values and actual values. The
smaller the MRE, the more the prediction values correspond to the actual values. R2
characterizes the goodness of ﬁt of the prediction model, while the closer its value is to
1, the better the goodness of ﬁt for the prediction results. The comparison between the
theoretical calculation and the model prediction of MRE and R2is shown in Table 2. The
MRE and R2values of the model prediction method are both superior to the theoretical
calculation method.
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 7 of 13
Table 2. Comparison of methods.
Method MRE R2
Theoretical calculation 204.1608843 0.7236284
Model prediction 42.1555041 0.9852787
4. Work Condition Identiﬁcation Model
4.1. Classiﬁcation of Historical Working Conditions
The control strategy of the wind turbine will vary depending on the operating condi-
tions. According to the power characteristics and wind speed, the normal operating state
can be theoretically divided into ﬁve stages (Figure 6): shutdown, start-up (AB), maximum
wind energy tracking (BC), constant speed (CD), and constant power (DE) [29].
Machines 2023 , 11, x FOR PEER REVIEW 8 of 14 
 
  
Figure 6. Theoretical working conditions classi ﬁcation. 
Firstly, the historical SCADA data of wind  turbines are cleaned to remove abnormal 
values such as power curtailment, outlier, and so on [30]. Then, the operation state is di-
vided into ﬁve stages by the power characteristics and wind speed. In view of the large 
proportion of the maximum wind energy tracki ng stage and the constant speed stage, the 
K-means clustering method is used to subdivide the working conditions for these two 
stages [31]. Considering the in ﬂuence of environmental factor s on the operation status, 
the active power, 30-sec average wind speed, hub speed, and ambient temperature from 
the SCADA system are selected as feature para meters of working conditions. Finally, the 
operating state of the drivetrain is divided into 9 types of working conditions (Figure 7).  
  
(a) ( b) 
Figure 7. The working condition classi ﬁcation of the drivetrain: ( a) 30-s average wind speed vs. 
active power; ( b) hub speed vs. active power. 
Working condition 1 is the shutdown stage of the wind turbine, where the wind 
speed is lower than the cut-in wind speed. Working condition 2 is the start-up stage, 
where the wind speed is higher than the cut- in wind speed and the hub speed is limited 
at the minimum. Working conditions 3 to 5 ar e clustered by the operational data from the 
maximum wind energy tracking  stage which are designed to capture maximum wind en-
ergy. Working conditions 6 to 8 are clustered by the operational data of the constant speed 
stage, in which the control system regulates the hub speed to keep it at the rated speed 
value. Working condition 9 is the constant power stage, where the active power is con-
trolled at the rated power value to achieve stable power output. 
4.2. LightGBM-Based Working Condition Identi ﬁcation Model 
Light Gradient Boosting Machine (LightGBM) is a gradient boosting decision tree 
(GBDT) framework proposed by Microsoft in 2017. It is a de cision tree algorithm proposed P P
AABBCCDE D ( E )
ratePrateP
1V2V_cut inVrateV_cut outVV
rateωminωω
0 5 10 15 20
30-s average wind speed(m/s)0500100015002000
0 5 10 15 20
Hub speed(rpm)0500100015002000
 1
2
3
4
5
6
7
8
9
Figure 6. Theoretical working conditions classiﬁcation.
Firstly, the historical SCADA data of wind turbines are cleaned to remove abnormal
values such as power curtailment, outlier, and so on [ 30]. Then, the operation state is
divided into ﬁve stages by the power characteristics and wind speed. In view of the large
proportion of the maximum wind energy tracking stage and the constant speed stage, the
K-means clustering method is used to subdivide the working conditions for these two
stages [ 31]. Considering the inﬂuence of environmental factors on the operation status,
the active power, 30-s average wind speed, hub speed, and ambient temperature from
the SCADA system are selected as feature parameters of working conditions. Finally, the
operating state of the drivetrain is divided into 9 types of working conditions (Figure 7).
Machines 2023 , 11, x FOR PEER REVIEW 8 of 14 
 
  
Figure 6. Theoretical working conditions classi ﬁcation. 
Firstly, the historical SCADA data of wind  turbines are cleaned to remove abnormal 
values such as power curtailment, outlier, and so on [30]. Then, the operation state is di-
vided into ﬁve stages by the power characteristics and wind speed. In view of the large 
proportion of the maximum wind energy tracki ng stage and the constant speed stage, the 
K-means clustering method is used to subdivide the working conditions for these two 
stages [31]. Considering the in ﬂuence of environmental factor s on the operation status, 
the active power, 30-sec average wind speed, hub speed, and ambient temperature from 
the SCADA system are selected as feature para meters of working conditions. Finally, the 
operating state of the drivetrain is divided into 9 types of working conditions (Figure 7).  
  
(a) ( b) 
Figure 7. The working condition classi ﬁcation of the drivetrain: ( a) 30-s average wind speed vs. 
active power; ( b) hub speed vs. active power. 
Working condition 1 is the shutdown stage of the wind turbine, where the wind 
speed is lower than the cut-in wind speed. Working condition 2 is the start-up stage, 
where the wind speed is higher than the cut- in wind speed and the hub speed is limited 
at the minimum. Working conditions 3 to 5 ar e clustered by the operational data from the 
maximum wind energy tracking  stage which are designed to capture maximum wind en-
ergy. Working conditions 6 to 8 are clustered by the operational data of the constant speed 
stage, in which the control system regulates the hub speed to keep it at the rated speed 
value. Working condition 9 is the constant power stage, where the active power is con-
trolled at the rated power value to achieve stable power output. 
4.2. LightGBM-Based Working Condition Identi ﬁcation Model 
Light Gradient Boosting Machine (LightGBM) is a gradient boosting decision tree 
(GBDT) framework proposed by Microsoft in 2017. It is a de cision tree algorithm proposed P P
AABBCCDE D ( E )
ratePrateP
1V2V_cut inVrateV_cut outVV
rateωminωω
0 5 10 15 20
30-s average wind speed(m/s)0500100015002000
0 5 10 15 20
Hub speed(rpm)0500100015002000
 1
2
3
4
5
6
7
8
9
Figure 7. The working condition classiﬁcation of the drivetrain: ( a) 30-s average wind speed vs.
active power; ( b) hub speed vs. active power.
Working condition 1 is the shutdown stage of the wind turbine, where the wind
speed is lower than the cut-in wind speed. Working condition 2 is the start-up stage,
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 8 of 13
where the wind speed is higher than the cut-in wind speed and the hub speed is limited
at the minimum. Working conditions 3 to 5 are clustered by the operational data from
the maximum wind energy tracking stage which are designed to capture maximum wind
energy. Working conditions 6 to 8 are clustered by the operational data of the constant
speed stage, in which the control system regulates the hub speed to keep it at the rated
speed value. Working condition 9 is the constant power stage, where the active power is
controlled at the rated power value to achieve stable power output.
4.2. LightGBM-Based Working Condition Identiﬁcation Model
Light Gradient Boosting Machine (LightGBM) is a gradient boosting decision tree
(GBDT) framework proposed by Microsoft in 2017. It is a decision tree algorithm proposed
based on Gradient One-Side Sampling (GOSS) and Exclusive Feature Binding (EFB), which
has the advantages of fast speed, memory saving, and better generalization ability [ 32].
Therefore, this paper established the working condition identiﬁcation model based on
LightGBM.
Given a supervised learning dataset X=f(xi,yi)gN
i=1, where xrepresents the sample
data and yrepresents the class label, the objective of the LightGBM algorithm is to ﬁnd
a mapping relation ˆF(x)that approximates the function F(x)while minimizing the loss
function Y(y,F(x)):
ˆF=argmin FEy,xY(y,F(x)) (12)
The objective function Obj(t)can be represented as:
Obj(t)=n
å
i=1Y(yi,Ft 1(xi)+ft(xi))+å
kW(fk) (13)
where W(fk)is the regular term.
The Newton method is used in LightGBM to quickly approximate the objective function:
Obj(t)=n
å
i=1
gift(xi)+1
2hif2
t(xi)
+å
kW(fk) (14)
where giis the ﬁrst-order loss function and hiis the second-order loss function.
gi=¶Ft 1(xi)Y(yi,Ft 1(xi)) (15)
hi=¶2
Ft 1(xi)Y(yi,Ft 1(xi)) (16)
The information gain is deﬁned as:
G=1
2" 
åi2ILgi2
åi2ILhi+l+ 
åi2IRgi2
åi2IRhi+l (åi2Igi)2
åi2Ihi+l#
(17)
The working condition identiﬁcation parameters are used as the input data, and the
sub-conditions classiﬁed by the historical working condition classiﬁcation are used as
the class labels. The working condition identiﬁcation model is established based on the
LightGBM algorithm, and the process ﬂow chart is shown in Figure 8.
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 9 of 13
Machines 2023 , 11, x FOR PEER REVIEW 9 of 14 
 
 based on Gradient One-Side Sampling (GOS S) and Exclusive Feature Binding (EFB), 
which has the advantages of fast speed, memory saving, and be tter generalization ability 
[32]. Therefore, this paper established the working condition identi ﬁcation model based 
on LightGBM. 
Given a supervised learning dataset 𝑋=ሼ(𝑥௜,𝑦௜)ሽ௜ୀଵே, where 𝑥 represents the sample 
data and 𝑦 represents the class label, the object ive of the LightGBM algorithm is to ﬁnd a 
mapping relation 𝐹෠(𝑥) that approximates the function 𝐹(𝑥)  while minimizing the loss 
function Ψ൫𝑦,𝐹(𝑥)൯: 
()() ,ˆarg min Ψ ,Fy x FE y F x= (12)
The objective function 𝑂𝑏𝑗(௧) can be represented as: 
() () () ()()
1
1Ψ, Ωn
t
it i t i k
ikObj y F x f x f−
==+ +
 (13)
where Ω(𝑓௞) is the regular term. 
The Newton method is used in LightGBM to quickly approximate the objective func-
tion: 
() () ( )() 2
11Ω2n
t
it i it i k
ikObj g f x h f x f
=≅+ +
 (14)
where ig is the ﬁrst-order loss function and ih is the second-order loss function. 
() () ()
11 Ψ,
tiii t i Fxgy F x
−− =∂
 (15)
()() ()
12
1 Ψ,
tx iiF i tih yFx
−− =∂
 (16)
The information gain is de ﬁned as: 
() () ()222
1
2LR
LRii i iI iI iI
ii i iI iI iIgg g
Ghλ hλ hλ∈∈ ∈
∈∈∈
=+ −++ + 

 (17)
The working condition identi ﬁcation parameters are used as the input data, and the 
sub-conditions classi ﬁed by the historical working condition classi ﬁcation are used as the 
class labels. The working condition identi ﬁcation model is established based on the 
LightGBM algorithm, and the process ﬂow chart is shown in Figure 8. 
 SCADA
Historical DataWorking condition 
feature parametersHistorical operating 
conditions classification
LightGBM 
algorithm
Working condition 
identification parametersReal-time working 
condition identificationData
Preprocessing
Working condition 
identification modelClass label
Offline
OnlineSCADA
Real-time DataWorking condition 
identification parametersControl 
Principle
K-means 
clustering
Input data
Figure 8. Flow chart of the work condition identiﬁcation.
4.3. Working Condition Identiﬁcation under Normal Operation State
The working condition identiﬁcation model is established according to the working
condition identiﬁcation parameters. The working condition identiﬁcation parameters of
the three working condition identiﬁcation models are as follows:
(1)Model-1: active power, 30-s average wind speed, hub speed, and ambient temperature.
(2) Model-2: 30-s average wind speed, hub speed, and ambient temperature.
(3) Model-3: aerodynamic power, 30-s average wind speed, hub speed, and ambient
temperature.
The data from 7 May 2021 were used as a normal operation state case; the active
power-wind speed diagram is shown in Figure 9a. Model-1 can accurately identify the
working conditions, but its use of active power as input will affect the working condition
identiﬁcation when the drivetrain is abnormal, which will be demonstrated later (Figure 9b).
Model-2 has difﬁculty in accurately identifying the working conditions, especially in
working conditions 6 to 9 (Figure 9c). The reason is that the hub speed ﬂuctuates at the
maximum speed value during the constant speed stage and the constant power stage, while
the ambient temperature has a low correlation with the operating state. Therefore, only the
30-s average wind speed is used to identify the working conditions in these two phases,
which results in low identiﬁcation accuracy. Model-3 adopts aerodynamic power instead
of active power as the working condition identiﬁcation parameter, and the identiﬁcation
results are also relatively accurate (Figure 9d). This model can ensure identiﬁcation accuracy
while avoiding wind turbine abnormalities affecting the working condition identiﬁcation
results.
Accuracy rate and F1_Score are used as indicators to evaluate the working condition
identiﬁcation model. The calculation formula is as follows:
Acc=TP+TN
TP+TN+FP+FN(18)
8
><
>:Pec=TP
TP+FP
Rec=TP
TP+FN
F1=2PecRec
Pec+Rec(19)
where Acc is accuracy rate, Pecis the precision, Recis the recall, F1is the F1_Score ,TP
is the true positives, TNis the true negatives, FPis the false positives, FNis the false
negatives.
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 10 of 13
Machines 2023 , 11, x FOR PEER REVIEW 10 of 14 
 
 Figure 8. Flow chart of the work condition identi ﬁcation. 
4.3. Working Condition Identi ﬁcation under Normal Operation State 
The working condition identi ﬁcation model is established according to the working 
condition identi ﬁcation parameters. The working condition identi ﬁcation parameters of 
the three working condition identi ﬁcation models are as follows: 
(1) Model-1: active power, 30-s average wind speed, hub speed, and ambient temper-
ature. 
(2) Model-2: 30-s average wind speed, hub speed, and ambient temperature. 
(3) Model-3: aerodynamic power, 30-s average wind speed, hub speed, and ambient 
temperature. 
The data from 7 May 2021 were used as a normal operation state case; the active 
power-wind speed diagram is shown in Figure  9a. Model-1 can accurately identify the 
working conditions, but its use of active power as input will a ﬀect the working condition 
identi ﬁcation when the drivetrain is abnormal, which will be demonstrated later (Figure 
9b). Model-2 has di ﬃculty in accurately identifying the working conditions, especially in 
working conditions 6 to 9 (Figure 9c). The reason is that the hub speed ﬂuctuates at the 
maximum speed value during th e constant speed stage and the constant power stage, 
while the ambient temperature has a low correla tion with the operating state. Therefore, 
only the 30-s average wind speed is used to identify the working conditions in these two 
phases, which results in low identi ﬁcation accuracy. Model-3 adopts aerodynamic power 
instead of active power as the working condition identi ﬁcation parameter, and the identi-
ﬁcation results are also relatively accurate (Figure 9d). This model can ensure identi ﬁca-
tion accuracy while avoiding wind turbine abnormalities a ﬀecting the working condition 
identi ﬁcation results. 
  
(a) ( b) 
  
(c) ( d) 
Figure 9.  The results of the working condition identi ﬁcation: ( a) active power vs. wind speed on 
May 7, 2021; ( b) the results of model-1; ( c) the results of model-2; ( d) the results of model-3. 
Accuracy rate and 𝐹1_𝑆𝑐𝑜𝑟𝑒  are used as indicators to evaluate the working condi-
tion identi ﬁcation model. The calculation formula is as follows: 
Figure 9. The results of the working condition identiﬁcation: ( a) active power vs. wind speed on May
7, 2021; ( b) the results of model-1; ( c) the results of model-2; ( d) the results of model-3.
The accuracy rate is the proportion of the number of correctly classiﬁed samples to
the total number of samples, while the closer its value is to 1, the better the classiﬁcation is.
Precision is the proportion of samples that are actually positive out of all samples predicted
as positive. Recall is the proportion of samples that are predicted as positive out of all
actual positive samples. F1_Score is the harmonic mean of precision and recall, and the
higher the value, the more effective the classiﬁcation. For multi-class problems, we consider
them as a combination of multiple binary classiﬁcation models. The F1_Score under each
class is calculated for unweighted average to evaluate the model. The accuracy rate and the
average of F1_Score of the different working conditions identiﬁcation models are shown in
Table 3. Model-1 and Model-3 have higher accuracy rate and average of F1_Score , and the
effective is better. Model-2 has lower accuracy rate and the average of F1_Score than the
other two models, indicating poor performance.
Table 3. Evaluation results of different working conditions identiﬁcation models.
Model Acc Average _F1
Model-1 0.9973284 0.9960851
Model-2 0.9242778 0.8446969
Model-3 0.9900651 0.9835994
4.4. Working Condition Identiﬁcation under Abnormal Operation State
The wind turbine experienced multiple generator non-drive temperature overrun
faults and the generator bearing high-temperature warnings on 16 March 2022, followed
by shutdown for maintenance (Figure 10). The data from 16 March 2022 were used as an
abnormal operation state case.
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 11 of 13
Machines 2023 , 11, x FOR PEER REVIEW 11 of 14 
 
 TP TNAccTP TN FP FN+=+++  (18)
21TPPecTP FP
TPRecTP FN
Pec RecFPec Rec=+=+
××=+  (19)
where 𝐴𝑐𝑐 is accuracy rate, 𝑃𝑒𝑐 is the precision, 𝑅𝑒𝑐 is the recall, 𝐹1 is the 𝐹1_𝑆𝑐𝑜𝑟𝑒 , 
𝑇𝑃 is the true positives, 𝑇𝑁 is the true negatives, 𝐹𝑃 is the false positives, 𝐹𝑁 is the 
false negatives. 
The accuracy rate is the proportion  of the number of correctly classi ﬁed samples to 
the total number of samples, while th e closer its value is to 1, the be tter the classi ﬁcation 
is. Precision is the proportion of samples that are actually positive out of all samples pre-
dicted as positive. Recall is the proportion of  samples that are predicted as positive out of 
all actual positive samples. 𝐹1_𝑆𝑐𝑜𝑟𝑒  is the harmonic mean of precision and recall, and 
the higher the value, the more e ﬀective the classi ﬁcation. For multi-class problems, we 
consider them as a combination of multiple binary classi ﬁcation models. The 𝐹1_𝑆𝑐𝑜𝑟𝑒  
under each class is calculated for unweighted av erage to evaluate the model. The accuracy 
rate and the average of 𝐹1_𝑆𝑐𝑜𝑟𝑒  of the di ﬀerent working conditions identi ﬁcation mod-
els are shown in Table 3. Model-1 and Model-3 have higher accuracy rate and average of 
𝐹1_𝑆𝑐𝑜𝑟𝑒 , and the e ﬀective is be tter. Model-2 has lower accuracy rate and the average of 
𝐹1_𝑆𝑐𝑜𝑟𝑒  than the other two models, indicating poor performance. 
Table 3. Evaluation results of di ﬀerent working conditions identi ﬁcation models. 
Model 𝑨𝒄𝒄 𝑨𝒗𝒆𝒓𝒂𝒈𝒆_𝑭𝟏  
Model -1 0.9973284 0.9960851 
Model -2 0.9242778 0.8446969 
Model -3 0.9900651 0.9835994 
4.4. Working Condition Identi ﬁcation under Abnormal Operation State 
The wind turbine experienced multiple generator non-drive temperature overrun 
faults and the generator bearing high-temperature warnings on 16 March 2022, followed 
by shutdown for maintenance (Figure 10). The data from 16 March 2022 were used as an 
abnormal operation state case.  
 
Figure 10. Wind turbine operation logs. 
The result of the aerodynamic power predi ction model for abnormal operation state 
of the wind turbine is shown in Figure 11. Compared with the results of the aerodynamic 
power prediction model for normal operation state (Figure 5), there is a signi ﬁcant resid-
ual between the predicted and the aerodynamic power calculated by torque feedback pa-
rameter in Equation (3). When the drivetrain is abnormal, as one of the outputs, the torque feedback parameter can be a ﬀected, which leads to inaccurate calculation of aerodynamic 
Figure 10. Wind turbine operation logs.
The result of the aerodynamic power prediction model for abnormal operation state
of the wind turbine is shown in Figure 11. Compared with the results of the aerodynamic
power prediction model for normal operation state (Figure 5), there is a signiﬁcant residual
between the predicted and the aerodynamic power calculated by torque feedback parameter
in Equation (3). When the drivetrain is abnormal, as one of the outputs, the torque
feedback parameter can be affected, which leads to inaccurate calculation of aerodynamic
power. Therefore, the output parameters in SCADA will be affected when wind turbine
abnormalities occur. It also shows that the actual aerodynamic power cannot be calculated
from Equation (3) but needs to be predicted by adopting the aerodynamic power prediction
model.
Machines 2023 , 11, x FOR PEER REVIEW 12 of 14 
 
 power. Therefore, the output parameters in SCADA will be a ﬀected when wind turbine 
abnormalities occur. It also shows that the actual aerodynamic power cannot be calculated 
from Equation (3) but needs to be predicte d by adopting the aerodynamic power predic-
tion model. 
 
Figure 11. The result of the aerodynamic power prediction model on 16 March 2022. 
If Model-3 uses the predicted aerodynamic power from the aerodynamic power pre-
diction model as the actual aerodynamic power, the comparison result of its working con-
dition identi ﬁcation under normal operation state with Model-1 is shown in Figure 12a. 
The results of Model-3 using predicted aerodynamic power for working condition identi-
ﬁcation have reduced accuracy compared wi th the results of calculating aerodynamic 
power using Equation (3). The reason is that the accuracy of the aerodynamic power pre-
diction model is not high enough, which causes the misjudgment of the working condition 
identi ﬁcation model. 
The comparison results of Model-3 and Model-1 under abnormal operating state are 
shown in Figure 12b. Compared with the norm al operation state of wind turbines, it is 
obvious that the misjudgment rate of working condition identi ﬁcation increases. Thus, 
when the drivetrain output (active power) is used as the working condition identi ﬁcation 
parameter, it is di ﬃcult to identify the working condition accurately under the abnormal 
operating state. The method proposed in this  paper, which uses the input (aerodynamic 
power) as the working condition identi ﬁcation parameter, can avoid this problem while 
ensuring accuracy. 
(a) 
 
(b) 
 
Figure 12. The comparison results of Model-3 and Model-1: ( a) under normal operation state; ( b) 
under abnormal operation state. 
Figure 11. The result of the aerodynamic power prediction model on 16 March 2022.
If Model-3 uses the predicted aerodynamic power from the aerodynamic power predic-
tion model as the actual aerodynamic power, the comparison result of its working condition
identiﬁcation under normal operation state with Model-1 is shown in Figure 12a. The
results of Model-3 using predicted aerodynamic power for working condition identiﬁcation
have reduced accuracy compared with the results of calculating aerodynamic power using
Equation (3). The reason is that the accuracy of the aerodynamic power prediction model is
not high enough, which causes the misjudgment of the working condition identiﬁcation
model.
Machines 2023 , 11, x FOR PEER REVIEW 12 of 14 
 
 power. Therefore, the output parameters in SCADA will be a ﬀected when wind turbine 
abnormalities occur. It also shows that the actual aerodynamic power cannot be calculated 
from Equation (3) but needs to be predicte d by adopting the aerodynamic power predic-
tion model. 
 
Figure 11. The result of the aerodynamic power prediction model on 16 March 2022. 
If Model-3 uses the predicted aerodynamic power from the aerodynamic power pre-
diction model as the actual aerodynamic power, the comparison result of its working con-
dition identi ﬁcation under normal operation state with Model-1 is shown in Figure 12a. 
The results of Model-3 using predicted aerodynamic power for working condition identi-
ﬁcation have reduced accuracy compared wi th the results of calculating aerodynamic 
power using Equation (3). The reason is that the accuracy of the aerodynamic power pre-
diction model is not high enough, which causes the misjudgment of the working condition 
identi ﬁcation model. 
The comparison results of Model-3 and Model-1 under abnormal operating state are 
shown in Figure 12b. Compared with the norm al operation state of wind turbines, it is 
obvious that the misjudgment rate of working condition identi ﬁcation increases. Thus, 
when the drivetrain output (active power) is used as the working condition identi ﬁcation 
parameter, it is di ﬃcult to identify the working condition accurately under the abnormal 
operating state. The method proposed in this  paper, which uses the input (aerodynamic 
power) as the working condition identi ﬁcation parameter, can avoid this problem while 
ensuring accuracy. 
(a) 
 
(b) 
 
Figure 12. The comparison results of Model-3 and Model-1: ( a) under normal operation state; ( b) 
under abnormal operation state. 
Figure 12. The comparison results of Model-3 and Model-1: ( a) under normal operation state; ( b)
under abnormal operation state.
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 12 of 13
The comparison results of Model-3 and Model-1 under abnormal operating state are
shown in Figure 12b. Compared with the normal operation state of wind turbines, it is
obvious that the misjudgment rate of working condition identiﬁcation increases. Thus,
when the drivetrain output (active power) is used as the working condition identiﬁcation
parameter, it is difﬁcult to identify the working condition accurately under the abnormal
operating state. The method proposed in this paper, which uses the input (aerodynamic
power) as the working condition identiﬁcation parameter, can avoid this problem while
ensuring accuracy.
5. Conclusions
In order to avoid the effect of abnormal operation state on the working conditions
identiﬁcation and accurately identify the real-time working conditions, a working condition
identiﬁcation method of the wind turbine drivetrain is proposed, and it is applied to an
actual wind turbine to verify its feasibility. The results showed that:
(1) Theoretical method cannot accurately calculate the actual aerodynamic power of the
drivetrain due to the wind turbine aging and other reasons. The LSTM-based aerodynamic
power prediction model proposed can accurately predict the actual aerodynamic power.
(2) Adopting aerodynamic power instead of active power as the working condition
identiﬁcation parameter can guarantee the accuracy of working condition identiﬁcation
while avoiding the impact of the drivetrain’s anomalies.
(3) The accuracy of the aerodynamic power prediction model will affect the judgment
result of the working condition identiﬁcation model. In the future, the performance of the
aerodynamic power prediction model needs to be further improved through more data
and more optimized algorithms.
Author Contributions: Conceptualization, Y.H.; methodology, Y.H.; validation, Y.H. and H.C.; formal
analysis, X.W.; investigation, Y.H. and H.T.; resources, J.D.; data curation, H.T.; writing—original
draft preparation, Y.H.; writing—review and editing, Y.H., H.C., and J.D.; project administration,
H.C.; funding acquisition, H.C. All authors have read and agreed to the published version of the
manuscript.
Funding: This research was funded by the National Natural Science Foundation of the People’s
Republic of China (grant number 51975535 and 52075164), the Key R & D Projects of Zhejiang
Province (grant number 2021C01133).
Institutional Review Board Statement: Not applicable.
Informed Consent Statement: Not applicable.
Data Availability Statement: The data presented in this study are available on request from the
corresponding author. The data are not publicly available due to business privacy.
Conﬂicts of Interest: The authors declare that they have no conﬂicts of interest.
References
1. Chu, S.; Majumdar, A. Opportunities and Challenges for a Sustainable Energy Future. Nature 2012 ,488, 294–303. [CrossRef]
[PubMed]
2. Astolﬁ, D. Perspectives on SCADA Data Analysis Methods for Multivariate Wind Turbine Power Curve Modeling. Machines
2021 ,9, 100. [CrossRef]
3. Tchakoua, P .; Wamkeue, R.; Ouhrouche, M.; Slaoui-Hasnaoui, F.; Tameghe, T.A.; Ekemb, G. Wind Turbine Condition Monitoring:
State-of-the-Art Review, New Trends, and Future Challenges. Energies 2014 ,7, 2595–2630. [CrossRef]
4. Ribrant, J.; Bertling, L.M. Survey of Failures in Wind Power Systems With Focus on Swedish Wind Power Plants During 1997–2005.
IEEE Trans. Energy Convers. 2007 ,22, 167–173. [CrossRef]
5. Shi, W.; Wang, F.; Zhuo, Y.; Liu, Y. Research on Operation Condition Classiﬁcation Method for Vibration Monitoring of Wind
Turbine. In Proceedings of the 2010 Asia-Paciﬁc Power and Energy Engineering Conference, Chengdu, China, 28–31 March 2010;
pp. 1–6.
6. Gioia, N.; Peeters, C.; Guillaume, P .; Helsen, J. Identiﬁcation of Noise, Vibration and Harshness Behavior of Wind Turbine
Drivetrain under Different Operating Conditions. Energies 2019 ,12, 3401. [CrossRef]
------------------------------End of the page -----------------------------------
Machines 2023 ,11, 495 13 of 13
7. Yang, T.; Zhao, L.; Xu, J.; Li, W.; Zhang, G. Abnormal Identiﬁcation Method of Wind Power Turbine Based on Copula Function.
Electr. Switch. 2021 ,59, 26–31.
8. Gu, Y.; Su, L.; Zhong, Y.; Xu, T. An Online Fault Early Warning Method for Wind Turbine Gearbox Based on Operational Condition
Division. Electr. Power Sci. Eng. 2014 ,30, 1–5+11.
9. Hackell, M.W.; Rolfes, R.; Kane, M.B.; Lynch, J.P . Three-Tier Modular Structural Health Monitoring Framework Using Envi-
ronmental and Operational Condition Clustering for Data Normalization: Validation on an Operational Wind Turbine System.
Proc. IEEE 2016 ,104, 1632–1646. [CrossRef]
10. Cheng, H.; Zhang, Q. Multidimensional wind turbine operating condition identiﬁcation based on operating data. In Proceedings
of the 6th China Wind Power Aftermarket Exchange and Cooperation Conference, Beijing, China, 21–24 October 2019; pp. 42–47.
11. Zhao, Y.; Pan, J.; Huang, Z.; Miao, Y.; Jiang, J.; Wang, Z. Analysis of Vibration Monitoring Data of an Onshore Wind Turbine
under Different Operational Conditions. Eng. Struct. 2020 ,205, 110071. [CrossRef]
12. Liu, C.; Yan, X. Monitoring of the State of the Gear Box of a Wind Power Generator Unit Based on the Operating Condition
Identiﬁcation. J. Eng. Therm. Energy Power 2016 ,31, 41–46+133. [CrossRef]
13. Wang, H.; Wang, H.; Jiang, G.; Li, J.; Wang, Y. Early Fault Detection of Wind Turbines Based on Operational Condition Clustering
and Optimized Deep Belief Network Modeling. Energies 2019 ,12, 984. [CrossRef]
14. Zheng, X.; Li, M.; Wang, J.; Ren, H.; Fu, Y. Operational conditions classiﬁcation of offshore wind turbines based on kernel principal
analysis optimized by PSO. Power Syst. Prot. Control 2016 ,44, 28–35. [CrossRef]
15. Chen, H.; Ma, H.; Chu, X.; Xue, D. Anomaly Detection and Critical Attributes Identiﬁcation for Products with Multiple Operating
Conditions Based on Isolation Forest. Adv. Eng. Inform. 2020 ,46, 101139. [CrossRef]
16. Rezamand, M.; Kordestani, M.; Orchard, M.E.; Carriveau, R.; Ting, D.S.-K.; Saif, M. Improved Remaining Useful Life Estimation of
Wind Turbine Drivetrain Bearings Under Varying Operating Conditions. IEEE Trans. Ind. Inform. 2021 ,17, 1742–1752. [CrossRef]
17. Dong, Y.; Li, Y.; Cao, H.; He, C.; Gu, Y. Real-time Health Condition Evaluation on Wind Turbines Based on Operational Condition
Recognition. Proc. CSEE 2013 ,33, 88–95+15. [CrossRef]
18. Zeng, H.; Dai, J.; Zuo, C.; Chen, H.; Li, M.; Zhang, F. Correlation Investigation of Wind Turbine Multiple Operating Parameters
Based on SCADA Data. Energies 2022 ,15, 5280. [CrossRef]
19. Slootweg, J.G.; Polinder, H.; Kling, W.L. Representing Wind Turbine Electrical Generating Systems in Fundamental Frequency
Simulations. IEEE Trans. Energy Convers. 2003 ,18, 9. [CrossRef]
20. Qin, D.; Tian, M.; Yang, J. Study on Dynamic Characteristics of Gear Transmission System of Wind Generator under Various
Wind Load. Acta Energ. Sol. Sin. 2012 ,33, 190–196.
21. Li, Z.; Luo, X.; Liu, M.; Cao, X.; Du, S.; Sun, H. Short-Term Prediction of the Power of a New Wind Turbine Based on IAO-LSTM.
Energy Rep. 2022 ,8, 9025–9037. [CrossRef]
22. Zhang, J.; Yan, J.; Inﬁeld, D.; Liu, Y.; Lien, F. Short-Term Forecasting and Uncertainty Analysis of Wind Turbine Power Based on
Long Short-Term Memory Network and Gaussian Mixture Model. Appl. Energy 2019 ,241, 229–244. [CrossRef]
23. Li, J.; Song, Z.; Wang, X.; Wang, Y.; Jia, Y. A Novel Offshore Wind Farm Typhoon Wind Speed Prediction Model Based on
PSO–Bi-LSTM Improved by VMD. Energy 2022 ,251, 123848. [CrossRef]
24. Zhu, Y.; Zhu, C.; Tan, J.; Wang, Y.; Tao, J. Operational State Assessment of Wind Turbine Gearbox Based on Long Short-Term
Memory Networks and Fuzzy Synthesis. Renew. Energy 2022 ,181, 1167–1176. [CrossRef]
25. Lei, J.; Liu, C.; Jiang, D. Fault Diagnosis of Wind Turbine Based on Long Short-Term Memory Networks. Renew. Energy 2019 ,133,
422–432. [CrossRef]
26. Chen, H.; Liu, H.; Chu, X.; Liu, Q.; Xue, D. Anomaly Detection and Critical SCADA Parameters Identiﬁcation for Wind Turbines
Based on LSTM-AE Neural Network. Renew. Energy 2021 ,172, 829–840. [CrossRef]
27. Zhang, C.; Hu, D.; Yang, T. Anomaly Detection and Diagnosis for Wind Turbines Using Long Short-Term Memory-Based Stacked
Denoising Autoencoders and XGBoost. Reliab. Eng. Syst. Saf. 2022 ,222, 108445. [CrossRef]
28. Graves, A. Long Short-Term Memory. In Supervised Sequence Labelling with Recurrent Neural Networks ; Springer: Berlin/Heidelberg,
Germany, 2012; pp. 37–45. [CrossRef]
29. Li, C.; Ye, Z.; Gao, W.; Jiang, Z. Modern Large-Scale Wind Turbine Design Principle , 1st ed.; Shanghai Scientiﬁc & Technical Publishers:
Shanghai, China, 2013.
30. Morrison, R.; Liu, X.; Lin, Z. Anomaly Detection in Wind Turbine SCADA Data for Power Curve Cleaning. Renew. Energy
2022 ,184, 473–486. [CrossRef]
31. Chen, H.; Xie, C.; Dai, J.; Cen, E.; Li, J. SCADA Data-Based Working Condition Classiﬁcation for Condition Assessment of Wind
Turbine Main Transmission System. Energies 2021 ,14, 7043. [CrossRef]
32. Ke, G.; Meng, Q.; Finley, T.; Wang, T.; Chen, W.; Ma, W.; Ye, Q.; Liu, T. A highly efﬁcient gradient boosting decision tree. In
Proceedings of the Advances in Neural Information Processing Systems, Long Beach, CA, USA, 4–9 December 2017; pp. 3146–3154.
Disclaimer/Publisher’s Note: The statements, opinions and data contained in all publications are solely those of the individual
author(s) and contributor(s) and not of MDPI and/or the editor(s). MDPI and/or the editor(s) disclaim responsibility for any injury to
people or property resulting from any ideas, methods, instructions or products referred to in the content.
------------------------------End of the page -----------------------------------
